<local:WindowContentControl x:Class="RayCarrot.RCP.Metro.Patcher.PatchCreatorDialog"
                            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:local="clr-namespace:RayCarrot.RCP.Metro"
                            xmlns:patcher="clr-namespace:RayCarrot.RCP.Metro.Patcher"
                            xmlns:sys="clr-namespace:System;assembly=mscorlib"
                            xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                            mc:Ignorable="d"
                            d:DesignWidth="800" d:DesignHeight="600"
                            d:DataContext="{d:DesignInstance patcher:PatchCreatorViewModel}"
                            Language="{UICulture}"
                            Background="{DynamicResource MahApps.Brushes.ThemeBackground}"
                            Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            ResxExtension.DefaultResxName="{x:Static local:LocalizationManager.ResourcePath}">
    <local:LoadingHost local:LoadingHostAssist.ViewModel="{Binding Path=LoaderViewModel, Mode=OneTime}">
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <mah:MetroAnimatedTabControl Grid.Row="0"
                                         Margin="0 0 0 8">

                <!-- TODO-UPDATE: Localize -->
                <TabItem Header="Metadata"
                         local:Icon.Kind="TextBoxOutline"
                         local:Icon.Brush="{StaticResource RCP.Brushes.Info}">
                    <patcher:PatchCreatorMetadataPage />
                </TabItem>

                <!-- TODO-UPDATE: Localize -->
                <TabItem Header="File modifications"
                         local:Icon.Kind="FileMultipleOutline"
                         local:Icon.Brush="{StaticResource RCP.Brushes.File}">
                    <patcher:PatchCreatorFileModificationsPage />
                </TabItem>

            </mah:MetroAnimatedTabControl>

            <!-- Actions -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        Content="{Resx PatchCreator_ImportPatch}"
                        ToolTip="{Resx PatchCreator_ImportPatchInfo}"
                        Style="{StaticResource RCP.Styles.Button.IconContent}"
                        local:Icon.Kind="Import"
                        Command="{Binding Path=ImportPatchCommand, Mode=OneTime}"
                        Margin="0 0 10 0" />

                <Button Grid.Column="2"
                        Content="{Resx Cancel}"
                        Style="{StaticResource RCP.Styles.Button.IconContent}"
                        local:Icon.Kind="CloseOutline"
                        Click="CancelButton_OnClick"
                        Margin="0 0 10 0" />

                <Button Grid.Column="3"
                        Content="{Resx PatchCreator_Create}"
                        Style="{StaticResource RCP.Styles.Button.IconContent}"
                        local:Icon.Kind="ContentSaveOutline"
                        Click="CreateButton_OnClick">
                    <Button.IsEnabled>
                        <Binding Path="Files.Count" Converter="{local:InvertedEqualsToConverter}">
                            <Binding.ConverterParameter>
                                <sys:Int32>0</sys:Int32>
                            </Binding.ConverterParameter>
                        </Binding>
                    </Button.IsEnabled>
                </Button>

            </Grid>

        </Grid>
    </local:LoadingHost>

</local:WindowContentControl>